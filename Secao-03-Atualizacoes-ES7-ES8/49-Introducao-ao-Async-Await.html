<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>49. Introdução ao Async/Await</title>
</head>
<body>
<!--
Básico
- async/await funciona obrigatoriamente no protocolo de Promises
- async é uma palavra chave usada no início de uma função
- await é usado para avisar a função para esperar o resultado da Promise
- await só pode ser usado para uma função com async
- async/await já está funcionando em quase todos os Browsers e NodeJS
Vantagens de usar async/await
- O código fica mais simplificado
- Mais fácil de debugar por ter menos callbacks
- A conversão de uma promise para async/await é bem simples
- O código fica com menos encadeamentos
 -->
<script>
    async function getPost() {
        const response = await fetch('https://josemalcher.net/wp-json/wp/v2/posts');
        const data = await response.json();

        return data.map(post => {
            console.log(post.title);
        })
    }
    getPost();
    /*return fetch('https://willianjusten.com.br/search.json')
                        .then(data => data.json())
                        .then(data => data.map(post => {
                            console.log(post.title);
                        }));
    */
</script>
</body>
</html>
